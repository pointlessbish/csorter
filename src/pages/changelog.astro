---
import { getCollection } from 'astro:content'

import Layout from '../layouts/DefaultLayout.astro'
import PortfolioPreview from '../components/PortfolioPreview.astro'
import Hero from '../components/Hero.astro'
import Grid from '../components/Grid.astro'

const projects = (await getCollection('changelog')).sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
)
---

<Layout title="changelog" description="Learn about pointlessbish's most recent projects">
  <div class="stack gap-20">
    <main class="wrapper stack gap-8">
      <Hero
        title="changelog"
        tagline="See my most recent posts below to get an idea of my past experience."
        align="start"
      />
      <Grid variant="offset">
        {
          projects.map((project) => (
            <li>
              <PortfolioPreview project={project} />
            </li>
          ))
        }
      </Grid>
    </main>
  </div>
</Layout>
